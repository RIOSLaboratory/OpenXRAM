**全定制设计方法对于高性能芯片的重要意义**

在高性能芯片中，**全定制设计**是不可或缺的设计方法。典型的使用了全定制设计方法的芯片包括Intel的CPU系列、IBM
Power CPU系列和各类矿机芯片。

通过使用全定制方法，芯片的性能大概可以**优化2-5倍**，面积一般优化2-3倍，具备明显的性能提升和**竞争力**。基本上**顶尖的芯片产品**都有使用全定制设计方法。高通、苹果等公司的手机芯片也都会用全定制设计方法学，只不过宣传的很少。

全定制设计(full-custom design)
是根据芯片设计要求，在晶体管级，通过电路仿真开始进行电路结构、电路参数的优化，并优化器件摆放和连线，完成整个芯片版图设计的一种设计方法。这一优化可以是人工优化，也可以**借助人工智能/深度学习**算法进行。

与半定制设计方法，或者基于标准单元库的设计方法相比，全定制设计具有**更高维度的优化空间**，可以定制门单元内各器件的驱动能力、摆放位置和形状，构造更简约的逻辑功能，实现更优的面积、功耗、功能。AMD早期CPU只使用了半定制设计方法（Synopsys设计流程），导致发热量巨大，市场口碑不好。后来AMD逐渐积累了全定制的设计能力，逐渐提升了其CPU的PPA，才逐渐修正了发热量这个bug。

全定制设计方法的优化主要体现在六个方面：架构、门单元的优化、布局的优化、时钟树优化、门级网表优化和电源网格优化。

以**时钟树优化**为例。传统的CTS流程使用标准单元库来生成时钟树，虽然方便，但是由于标准单元的门延迟模型并不精准，而且未考虑实际物理版图布局寄生参数的影响。生成的时钟树延迟误差较SPICE仿真要大，设计margin保留较大，会有不少**性能损失**。特别是在先进工艺下，由于**工艺参数浮动的影响**，不能直接进行时钟树的蒙特卡洛仿真来评估时钟周期的准确度。

于门级网表来说，半定制设计是逻辑设计和物理设计分开，这样写代码的人不知道单元库和版图对于性能的影响，而物理设计也不知道哪些逻辑功能可以降低实现优先级，这中间有很大**信息差**。而全定制设计采取**前后端耦合**共同设计的方式，在写代码的时候就要知道所写库的面积、功耗、速度等方面，选择**更优化**的方式进行设计。

在架构设计中，则要通盘规划代码设计和物理实现之间的鸿沟，合理考虑版图实现时对于各类密集信号线的影响，通过架构调整减少信号的congestion，以实现更高速的产品。对于关键路径模块，则会直接安排人工设计，以提升产品性能和竞争力。

随着人工智能技术的崛起，越来越多的AI技术开始用于集成电路设计。就目前来说仅仅介入了半定制设计流程。如果**深度学习/强化学习**技术进入全定制设计流程，就能给EDA和IC界带来**巨大的冲击**。
